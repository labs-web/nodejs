<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Générateur de CV</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/javascript/javascript.min.js"></script>
</head>
<body>
    <h1>Générateur de CV</h1>
    <div class="container">
        <!-- Zone de saisie JSON -->
        <div class="json-input">
            <label for="jsonContent">Saisissez le code JSON :</label>
            <textarea id="jsonContent" placeholder=''>

                {
                    "etatCivil": {
                      "nom": "Madani",
                      "prenom": "Ali",
                      "poste": "Développeur Laravel",
                      "experience": "10 ans",
                      "ville": "Tanger",
                      "email": "ali.madani@example.com",
                      "telephone": "+212 600 000 000"
                    },
                    "diplomes": [
                      {
                        "annee": 2010,
                        "titre": "Licence en Informatique",
                        "etablissement": "Université Abdelmalek Essaâdi"
                      },
                      {
                        "annee": 2007,
                        "titre": "DUT en Génie Informatique",
                        "etablissement": "Institut Spécialisé de Technologie Appliquée de Tanger"
                      }
                    ],
                    "competences": [
                      "Laravel",
                      "Node.js",
                      "JavaScript",
                      "HTML/CSS",
                      "MySQL"
                    ],
                    "experiences": [
                      {
                        "poste": "Développeur Laravel Senior",
                        "entreprise": "Tech Solutions",
                        "annees": "2015 - Présent",
                        "description": "Responsable du développement et de la maintenance d'applications en Laravel."
                      },
                      {
                        "poste": "Développeur Full Stack",
                        "entreprise": "Informatique Maroc",
                        "annees": "2010 - 2015",
                        "description": "Développement d'applications web avec Laravel et Node.js."
                      }
                    ]
                  }



            </textarea>
            <button id="generateCvButton">Générer le CV</button>
        </div>

        <!-- Zone d'affichage du CV -->
        <div id="cvOutput" class="cv-output">
            <!-- Le contenu du CV généré sera affiché ici -->
            <iframe id="cvFrame" name="cvFrame" style="width: 100%; height: 400px; border: none;"></iframe>
        </div>
    </div>
    <script src="/js/script.js"></script>
    <script>
        // Initialiser CodeMirror
        const editor = CodeMirror.fromTextArea(document.getElementById("jsonContent"), {
            mode: { name: "javascript", json: true },
            lineNumbers: true,
            theme: "default"
        });
    </script>
</body>
</html>
